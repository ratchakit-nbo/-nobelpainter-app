<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Examiner - ‡∏û‡πà‡∏≠‡πÇ‡∏ô‡πÄ‡∏ö‡∏• Cloud Edition</title>
    <script src="https://unpkg.com/peerjs@1.5.2/dist/peerjs.min.js"></script>
    <style>
        :root { --bg: #1a1a1a; --card: #2d2d30; --accent: #007acc; --success: #28a745; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); color: white; margin: 0; display: flex; flex-direction: column; align-items: center; min-height: 100vh; }
        header { width: 100%; padding: 20px 0; text-align: center; background: var(--card); border-bottom: 2px solid var(--accent); margin-bottom: 20px; }
        .credit { font-size: 1.2rem; font-weight: bold; color: #ffc107; }
        .container { width: 95%; max-width: 600px; background: var(--card); padding: 20px; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        #setup-box { text-align: center; }
        input[type="number"] { width: 80%; padding: 15px; border-radius: 10px; border: 1px solid #444; background: #1e1e1e; color: white; font-size: 20px; text-align: center; margin-bottom: 15px; }
        .btn-connect { width: 85%; padding: 15px; background: var(--accent); color: white; border: none; border-radius: 10px; font-weight: bold; font-size: 18px; cursor: pointer; }
        #result-box { display: none; text-align: center; }
        #received-img { width: 100%; background: white; border-radius: 10px; border: 3px solid #fff; margin: 15px 0; }
        .btn-submit { width: 85%; padding: 15px; background: var(--success); color: white; border: none; border-radius: 10px; font-weight: bold; font-size: 18px; margin-top: 10px; cursor: pointer; }
    </style>
</head>
<body>

    <header>
        <div class="credit">‚ú® ‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏ô‡∏µ‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏î‡∏¢ ‡∏û‡πà‡∏≠‡πÇ‡∏ô‡πÄ‡∏ö‡∏• (WiFi/4G Ready) ‚ú®</div>
    </header>

    <div class="container">
        <div id="setup-box">
            <h2>‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ (‡∏£‡∏´‡∏±‡∏™ 6 ‡∏´‡∏•‡∏±‡∏Å)</h2>
            <input type="number" id="pc-id" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™‡∏à‡∏≤‡∏Å‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ß‡∏≤‡∏î" pattern="\d*">
            <button class="btn-connect" onclick="startConnect()">‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏ó‡∏±‡∏ô‡∏ó‡∏µ üîó</button>
        </div>

        <div id="result-box">
            <div id="target-char" style="font-size: 1.5rem; background: #444; padding: 10px; border-radius: 8px;">‡πÇ‡∏à‡∏ó‡∏¢‡πå: -</div>
            <img id="received-img" src="">
            <p>‡πÉ‡∏´‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô (0-100)</p>
            <input type="number" id="score-input" placeholder="100" style="width:50%; font-size: 25px;">
            <button class="btn-submit" onclick="submitScore()">‡∏™‡πà‡∏á‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏Å‡∏•‡∏±‡∏ö üöÄ</button>
        </div>

        <div id="status-msg" style="margin-top:20px; color:#aaa;">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</div>
    </div>

    <script>
        // Peer Config ‡∏ï‡∏±‡∏ß‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏´‡∏≤‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏à‡∏≠‡∏ú‡πà‡∏≤‡∏ô‡∏≠‡∏¥‡∏ô‡πÄ‡∏ó‡∏≠‡∏£‡πå‡πÄ‡∏ô‡πá‡∏ï 4G
        const peerConfig = {
            config: {
                'iceServers': [
                    { 'urls': 'stun:stun.l.google.com:19302' },
                    { 'urls': 'stun:stun1.l.google.com:19302' },
                    { 'urls': 'stun:stun2.l.google.com:19302' }
                ]
            }
        };

        const peer = new Peer(peerConfig);
        let conn = null;

        function startConnect() {
            const id = document.getElementById('pc-id').value.toString();
            if (id.length < 6) return alert("‡πÉ‡∏™‡πà‡∏£‡∏´‡∏±‡∏™‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏Ñ‡∏£‡∏±‡∏ö");
            
            document.getElementById('status-msg').innerText = "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏´‡∏≤‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏ô‡πá‡∏ï (WiFi/4G)...";
            conn = peer.connect(id);

            conn.on('open', () => {
                document.getElementById('setup-box').style.display = 'none';
                document.getElementById('status-msg').innerText = "‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß! ‚úÖ";
            });

            conn.on('data', data => {
                if (data.img) {
                    document.getElementById('received-img').src = data.img;
                    document.getElementById('target-char').innerText = "‡πÇ‡∏à‡∏ó‡∏¢‡πå: " + (data.char || "‡∏ß‡∏≤‡∏î‡∏≠‡∏¥‡∏™‡∏£‡∏∞");
                    document.getElementById('result-box').style.display = 'block';
                    document.getElementById('status-msg').style.display = 'none';
                }
            });
        }

        function submitScore() {
            const s = document.getElementById('score-input').value;
            if (s === "") return alert("‡πÉ‡∏™‡πà‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö");
            if (conn && conn.open) {
                conn.send({ score: s });
                alert("‡∏™‡πà‡∏á‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢!");
                document.getElementById('result-box').style.display = 'none';
                document.getElementById('status-msg').style.display = 'block';
                document.getElementById('status-msg').innerText = "‡∏™‡πà‡∏á‡πÅ‡∏•‡πâ‡∏ß ‡∏£‡∏≠‡∏£‡∏±‡∏ö‡∏£‡∏π‡∏õ‡∏ñ‡∏±‡∏î‡πÑ‡∏õ...";
            }
        }
    </script>
</body>
</html>
